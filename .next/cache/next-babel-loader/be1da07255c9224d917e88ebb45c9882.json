{"ast":null,"code":"import _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\node\\\\delivery\\\\components\\\\Produtos\\\\index.js\";\nimport { makeStyles } from \"@material-ui/core\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\";\nimport RemoveCircleOutlineRoundedIcon from \"@material-ui/icons/RemoveCircleOutlineRounded\";\nimport React, { useEffect, useState } from \"react\";\nimport LocalStorageHandler from \"../LocalStorageHandler\"; //values: { xs: 0, sm: 600, md: 960, lg: 1280, xl: 1920 },\n\nvar useStyles = makeStyles(function (theme) {\n  var _cardItemMenu;\n\n  return {\n    quantidade: {\n      textAlign: \"right\",\n      width: 40,\n      paddingTop: 5,\n      paddingBottom: 5,\n      display: \"inline\",\n      border: \"0\",\n      borderBottom: \"1px solid #ccc\",\n      position: \"relative\",\n      top: -4\n    },\n    valorUnitario: _defineProperty({\n      border: \"0px solid red\",\n      color: \"rgb(244,67,54)\"\n    }, theme.breakpoints.up(\"xs\"), {\n      fontWeight: \"bold\"\n    }),\n    mdlCard: {\n      flexDirection: \"column\",\n      fontSize: \"16px\",\n      fontWeight: 400,\n      overflow: \"hidden\",\n      zIndex: 1,\n      position: \"relative\",\n      background: \"#fff\",\n      borderRadius: \"2px\",\n      boxSizing: \"border-box\",\n      border: \"0px solid red\"\n    },\n    cardItemMenu: (_cardItemMenu = {}, _defineProperty(_cardItemMenu, theme.breakpoints.up(\"xs\"), {\n      width: \"100%\"\n    }), _defineProperty(_cardItemMenu, theme.breakpoints.up(\"sm\"), {\n      width: \"96%\"\n    }), _defineProperty(_cardItemMenu, theme.breakpoints.up(\"md\"), {\n      width: \"96%\"\n    }), _defineProperty(_cardItemMenu, theme.breakpoints.up(\"lg\"), {\n      width: \"96%\"\n    }), _defineProperty(_cardItemMenu, \"margin\", \"10px auto\"), _defineProperty(_cardItemMenu, \"minHeight\", \"10px\"), _defineProperty(_cardItemMenu, \"border\", \"0px solid red\"), _cardItemMenu),\n    info_item: {\n      \"float\": \"none\"\n    },\n    nomeItemMenu: {\n      fontFamily: \"Lato\",\n      color: \"#444\",\n      fontSize: \"18px\",\n      margin: \"0\",\n      padding: \"0\",\n      marginTop: \"0px\",\n      verticalAlign: \"baseline\",\n      textTransform: \"capitalize\",\n      fontWeight: \"bold\",\n      lineHeight: \"35px\"\n    },\n    descItemMenu: {\n      fontFamily: \"Lato\",\n      color: \"#444\",\n      fontSize: \"12px\",\n      margin: 0,\n      padding: 0,\n      marginTop: \"0px\",\n      verticalAlign: \"baseline\",\n      lineHeight: \"14px\",\n      textTransform: \"capitalize\"\n    },\n    img_prod: {\n      width: \"80px\",\n      height: \"80px\",\n      \"float\": \"left\",\n      margin: \"10px\",\n      borderRadius: \"5px\",\n      maxWidth: \"100%\"\n    },\n    mdlCard__actions: {\n      fontSize: \"12px\",\n      lineHeight: \"normal\",\n      width: \"100%\",\n      backgroundColor: \"transparent\",\n      padding: \"8px\",\n      boxSizing: \"border-box\",\n      borderTop: \"1px solid rgba(0,0,0,.1)\"\n    },\n    myButton: {\n      color: \"rgb(244,67,54)\",\n      border: \"none\",\n      display: \"block\",\n      width: 35,\n      minWidth: \"30px\",\n      padding: 0\n    }\n  };\n});\n/**\r\n * Component: Produtos\r\n */\n\nexport default function Produtos(props) {\n  var classes = useStyles();\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      quantidade = _useState2[0],\n      setQuantidade = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      valorTotal = _useState4[0],\n      setValorTotal = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      observacao = _useState6[0],\n      setObservacao = _useState6[1];\n\n  function addProduct() {\n    var products = [];\n\n    if (localStorage.getItem(\"products\")) {\n      products = JSON.parse(localStorage.getItem(\"products\"));\n    } //Desestruturação Javascript\n\n\n    var id = props.id,\n        nome = props.nome,\n        imagem = props.imagem,\n        precoUnitario = props.precoUnitario,\n        descricao = props.descricao; //Pega o index\n\n    var objIndex = products.findIndex(function (pedido) {\n      return pedido.productId === id;\n    }); //Caso não exista\n\n    if (objIndex === -1) {\n      products.push({\n        productId: id,\n        nome: nome,\n        imagem: imagem,\n        quantidade: quantidade + 1,\n        observacao: observacao,\n        preco: precoUnitario,\n        descricao: descricao\n      });\n      localStorage.setItem(\"products\", _JSON$stringify(products));\n    } else {\n      products[objIndex].productId = id;\n      products[objIndex].quantidade = quantidade + 1;\n      products[objIndex].observacao = observacao;\n      products[objIndex].nome = nome;\n      products[objIndex].imagem = imagem;\n      products[objIndex].preco = precoUnitario;\n      products[objIndex].descricao = descricao;\n      localStorage.setItem(\"products\", _JSON$stringify(products));\n    }\n  }\n\n  function add() {\n    var quant = _parseInt(quantidade) + 1;\n    setQuantidade(quant);\n    addProduct();\n    setValorTotal((props.precoUnitario * quant).toFixed(2));\n  }\n\n  function subtract() {\n    var quant = _parseInt(quantidade) - 1;\n    setQuantidade(quant);\n    addProduct();\n    setValorTotal(props.precoUnitario * quant);\n  }\n\n  function onChangeQuantidade(ev) {\n    var quant = _parseInt(ev.target.value);\n\n    setQuantidade(quant);\n    addProduct();\n    setValorTotal((props.precoUnitario * _parseInt(quant)).toFixed(2));\n  }\n\n  useEffect(function () {\n    if (quantidade <= 0 || isNaN(_parseInt(quantidade))) {\n      setValorTotal(0);\n      setQuantidade(0);\n    }\n\n    props.callbackParent(LocalStorageHandler.count(\"products\"));\n  }, [quantidade]);\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: classes.cardItemMenu,\n    id: props.id,\n    title: props.nome,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.mdlCard,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.info_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, React.createElement(Avatar, {\n    alt: \"Remy Sharp\",\n    src: props.imagem,\n    className: classes.img_prod,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: classes.nomeItemMenu,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, props.nome), React.createElement(\"div\", {\n    className: classes.descItemMenu,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, props.descricao.length == 0 ? React.createElement(React.Fragment, null, props.nome) : React.createElement(React.Fragment, null, props.descricao))), React.createElement(Grid, {\n    container: true,\n    className: classes.mdlCard__actions,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 7,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }, React.createElement(Button, {\n    className: classes.valorUnitario,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }, \"R$\", \" \", props.precoUnitario != undefined ? props.precoUnitario.toFixed(2) : null)), quantidade > 0 && React.createElement(React.Fragment, null, \"Subtotal: R$ \", valorTotal)), React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    justify: \"flex-end\",\n    alignItems: \"center\",\n    xs: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: subtract,\n    disabled: quantidade < 1,\n    className: classes.myButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }, React.createElement(RemoveCircleOutlineRoundedIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231\n    },\n    __self: this\n  })), React.createElement(\"input\", {\n    type: \"number\",\n    onChange: function onChange(ev) {\n      return onChangeQuantidade(ev);\n    },\n    value: quantidade,\n    className: classes.quantidade,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233\n    },\n    __self: this\n  }), React.createElement(Button, {\n    className: classes.myButton,\n    onClick: add,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239\n    },\n    __self: this\n  }, React.createElement(AddCircleOutlineIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240\n    },\n    __self: this\n  })))))));\n}","map":{"version":3,"sources":["D:\\node\\delivery\\components\\Produtos\\index.js"],"names":["makeStyles","Avatar","Button","Grid","AddCircleOutlineIcon","RemoveCircleOutlineRoundedIcon","React","useEffect","useState","LocalStorageHandler","useStyles","theme","quantidade","textAlign","width","paddingTop","paddingBottom","display","border","borderBottom","position","top","valorUnitario","color","breakpoints","up","fontWeight","mdlCard","flexDirection","fontSize","overflow","zIndex","background","borderRadius","boxSizing","cardItemMenu","info_item","nomeItemMenu","fontFamily","margin","padding","marginTop","verticalAlign","textTransform","lineHeight","descItemMenu","img_prod","height","maxWidth","mdlCard__actions","backgroundColor","borderTop","myButton","minWidth","Produtos","props","classes","setQuantidade","valorTotal","setValorTotal","observacao","setObservacao","addProduct","products","localStorage","getItem","JSON","parse","id","nome","imagem","precoUnitario","descricao","objIndex","findIndex","pedido","productId","push","preco","setItem","add","quant","toFixed","subtract","onChangeQuantidade","ev","target","value","isNaN","callbackParent","count","length","undefined"],"mappings":"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","sourcesContent":["import { makeStyles } from \"@material-ui/core\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\";\r\nimport RemoveCircleOutlineRoundedIcon from \"@material-ui/icons/RemoveCircleOutlineRounded\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport LocalStorageHandler from \"../LocalStorageHandler\";\r\n\r\n//values: { xs: 0, sm: 600, md: 960, lg: 1280, xl: 1920 },\r\nconst useStyles = makeStyles(theme => ({\r\n  quantidade: {\r\n    textAlign: \"right\",\r\n    width: 40,\r\n    paddingTop: 5,\r\n    paddingBottom: 5,\r\n    display: \"inline\",\r\n    border: \"0\",\r\n    borderBottom: \"1px solid #ccc\",\r\n    position: \"relative\",\r\n    top: -4\r\n  },\r\n  valorUnitario: {\r\n    border: \"0px solid red\",\r\n    color: \"rgb(244,67,54)\",\r\n    [theme.breakpoints.up(\"xs\")]: {\r\n      fontWeight: \"bold\"\r\n    }\r\n  },\r\n  mdlCard: {\r\n    flexDirection: \"column\",\r\n    fontSize: \"16px\",\r\n    fontWeight: 400,\r\n    overflow: \"hidden\",\r\n    zIndex: 1,\r\n    position: \"relative\",\r\n    background: \"#fff\",\r\n    borderRadius: \"2px\",\r\n    boxSizing: \"border-box\",\r\n    border: \"0px solid red\"\r\n  },\r\n  cardItemMenu: {\r\n    [theme.breakpoints.up(\"xs\")]: {\r\n      width: \"100%\"\r\n    },\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: \"96%\"\r\n    },\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: \"96%\"\r\n    },\r\n    [theme.breakpoints.up(\"lg\")]: {\r\n      width: \"96%\"\r\n    },\r\n    margin: \"10px auto\",\r\n    minHeight: \"10px\",\r\n    border: \"0px solid red\"\r\n  },\r\n  info_item: {\r\n    float: \"none\"\r\n  },\r\n  nomeItemMenu: {\r\n    fontFamily: \"Lato\",\r\n    color: \"#444\",\r\n    fontSize: \"18px\",\r\n    margin: \"0\",\r\n    padding: \"0\",\r\n    marginTop: \"0px\",\r\n    verticalAlign: \"baseline\",\r\n    textTransform: \"capitalize\",\r\n    fontWeight: \"bold\",\r\n    lineHeight: \"35px\"\r\n  },\r\n  descItemMenu: {\r\n    fontFamily: \"Lato\",\r\n    color: \"#444\",\r\n    fontSize: \"12px\",\r\n    margin: 0,\r\n    padding: 0,\r\n    marginTop: \"0px\",\r\n    verticalAlign: \"baseline\",\r\n    lineHeight: \"14px\",\r\n    textTransform: \"capitalize\"\r\n  },\r\n  img_prod: {\r\n    width: \"80px\",\r\n    height: \"80px\",\r\n    float: \"left\",\r\n    margin: \"10px\",\r\n    borderRadius: \"5px\",\r\n    maxWidth: \"100%\"\r\n  },\r\n  mdlCard__actions: {\r\n    fontSize: \"12px\",\r\n    lineHeight: \"normal\",\r\n    width: \"100%\",\r\n    backgroundColor: \"transparent\",\r\n    padding: \"8px\",\r\n    boxSizing: \"border-box\",\r\n    borderTop: \"1px solid rgba(0,0,0,.1)\"\r\n  },\r\n  myButton: {\r\n    color: \"rgb(244,67,54)\",\r\n    border: \"none\",\r\n    display: \"block\",\r\n    width: 35,\r\n    minWidth: \"30px\",\r\n    padding: 0\r\n  }\r\n}));\r\n\r\n/**\r\n * Component: Produtos\r\n */\r\nexport default function Produtos(props) {\r\n  const classes = useStyles();\r\n  const [quantidade, setQuantidade] = useState(0);\r\n  const [valorTotal, setValorTotal] = useState(0);\r\n  const [observacao, setObservacao] = useState(\"\");\r\n\r\n  function addProduct() {\r\n    let products = [];\r\n\r\n    if (localStorage.getItem(\"products\")) {\r\n      products = JSON.parse(localStorage.getItem(\"products\"));\r\n    }\r\n\r\n    //Desestruturação Javascript\r\n    const { id, nome, imagem, precoUnitario, descricao } = props;\r\n\r\n    //Pega o index\r\n    let objIndex = products.findIndex(pedido => pedido.productId === id);\r\n\r\n    //Caso não exista\r\n    if (objIndex === -1) {\r\n      products.push({\r\n        productId: id,\r\n        nome: nome,\r\n        imagem: imagem,\r\n        quantidade: quantidade + 1,\r\n        observacao: observacao,\r\n        preco: precoUnitario,\r\n        descricao: descricao\r\n      });\r\n\r\n      localStorage.setItem(\"products\", JSON.stringify(products));\r\n    } else {\r\n      products[objIndex].productId = id;\r\n      products[objIndex].quantidade = quantidade + 1;\r\n      products[objIndex].observacao = observacao;\r\n      products[objIndex].nome = nome;\r\n      products[objIndex].imagem = imagem;\r\n      products[objIndex].preco = precoUnitario;\r\n      products[objIndex].descricao = descricao;\r\n      localStorage.setItem(\"products\", JSON.stringify(products));\r\n    }\r\n  }\r\n\r\n  function add() {\r\n    let quant = parseInt(quantidade) + 1;\r\n    setQuantidade(quant);\r\n    addProduct();\r\n    setValorTotal((props.precoUnitario * quant).toFixed(2));\r\n  }\r\n\r\n  function subtract() {\r\n    let quant = parseInt(quantidade) - 1;\r\n    setQuantidade(quant);\r\n    addProduct();\r\n    setValorTotal(props.precoUnitario * quant);\r\n  }\r\n\r\n  function onChangeQuantidade(ev) {\r\n    let quant = parseInt(ev.target.value);\r\n    setQuantidade(quant);\r\n    addProduct();\r\n    setValorTotal((props.precoUnitario * parseInt(quant)).toFixed(2));\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (quantidade <= 0 || isNaN(parseInt(quantidade))) {\r\n      setValorTotal(0);\r\n      setQuantidade(0);\r\n    }\r\n    props.callbackParent(LocalStorageHandler.count(\"products\"));\r\n  }, [quantidade]);\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.cardItemMenu} id={props.id} title={props.nome}>\r\n        <div className={classes.mdlCard}>\r\n          <div className={classes.info_item}>\r\n            <Avatar\r\n              alt=\"Remy Sharp\"\r\n              src={props.imagem}\r\n              className={classes.img_prod}\r\n            />\r\n            <div className={classes.nomeItemMenu}>{props.nome}</div>\r\n            <div className={classes.descItemMenu}>\r\n              {props.descricao.length == 0 ? (\r\n                <>{props.nome}</>\r\n              ) : (\r\n                <>{props.descricao}</>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <Grid container className={classes.mdlCard__actions}>\r\n            <Grid item xs={7}>\r\n              <Button className={classes.valorUnitario}>\r\n                <b>\r\n                  R${\" \"}\r\n                  {props.precoUnitario != undefined\r\n                    ? props.precoUnitario.toFixed(2)\r\n                    : null}\r\n                </b>\r\n              </Button>\r\n              {quantidade > 0 && <>Subtotal: R$ {valorTotal}</>}\r\n            </Grid>\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justify=\"flex-end\"\r\n              alignItems=\"center\"\r\n              xs={5}\r\n            >\r\n              <Button\r\n                onClick={subtract}\r\n                disabled={quantidade < 1}\r\n                className={classes.myButton}\r\n              >\r\n                <RemoveCircleOutlineRoundedIcon />\r\n              </Button>\r\n              <input\r\n                type=\"number\"\r\n                onChange={ev => onChangeQuantidade(ev)}\r\n                value={quantidade}\r\n                className={classes.quantidade}\r\n              />\r\n              <Button className={classes.myButton} onClick={add}>\r\n                <AddCircleOutlineIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}