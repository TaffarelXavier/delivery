{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\node\\\\delivery-rsvtelecom-com-br\\\\pages\\\\car.js\";\nimport React, { useState } from \"react\";\nimport ListaProdutos from \"../db/produtos.json\";\nconsole.clear();\n/* Product */\n\nfunction Product(props) {\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      quantidade = _useState2[0],\n      setQuantidade = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      valorTotal = _useState4[0],\n      setValorTotal = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      descricao = _useState6[0],\n      setDescricao = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      observacao = _useState8[0],\n      setObservacao = _useState8[1];\n\n  function removeProduct(id) {\n    var storageProducts = JSON.parse(localStorage.getItem(\"products\"));\n    var products = storageProducts.filter(function (product) {\n      return product.id !== id;\n    });\n    localStorage.setItem(\"products\", _JSON$stringify(products));\n  }\n\n  function addProduct() {\n    var products = [];\n\n    if (localStorage.getItem(\"products\")) {\n      products = JSON.parse(localStorage.getItem(\"products\"));\n    } //Desestruturação Javascript\n\n\n    var id = props.id; //Pega o index\n\n    var objIndex = products.findIndex(function (pedido) {\n      return pedido.productId === id;\n    }); //Caso não exista\n\n    if (objIndex === -1) {\n      products.push({\n        productId: id,\n        quantidade: quantidade + 1,\n        observacao: observacao\n      });\n      localStorage.setItem(\"products\", _JSON$stringify(products));\n    } else {\n      products[objIndex].productId = id;\n      products[objIndex].quantidade = quantidade + 1;\n      products[objIndex].observacao = observacao;\n      localStorage.setItem(\"products\", _JSON$stringify(products));\n    }\n  }\n\n  function add() {\n    setQuantidade(_parseInt(quantidade) + 1);\n    props.handleTotal(props.precoUnitario);\n    addProduct();\n    setValorTotal(props.precoUnitario * _parseInt(quantidade));\n  }\n\n  function onChangeQuantidade(ev) {\n    var quant = _parseInt(ev.target.value);\n\n    setQuantidade(quant);\n    props.handleTotal(props.precoUnitario);\n    addProduct();\n    setValorTotal(props.precoUnitario * _parseInt(quant));\n  }\n\n  function subtract() {\n    setQuantidade(_parseInt(state.quantidade) - 1);\n    props.handleTotal(-props.precoUnitario);\n    setValorTotal(props.precoUnitario * _parseInt(quantidade));\n  }\n\n  function alterarTextoTextArea(ev) {\n    setObservacao(ev.target.value);\n  }\n\n  return React.createElement(\"div\", {\n    className: \"container\",\n    id: props.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    style: {\n      background: \"white\",\n      boxShadow: \"0px 1px 3px 0px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 2px 1px -1px rgba(0,0,0,0.12) !important\",\n      borderRadius: 3,\n      padding: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-sm-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"figure\", {\n    className: \"figure\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: props.imagem,\n    className: \"figure-img img-fluid rounded\",\n    alt: props.imagem,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    style: {\n      marginBottom: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, props.nome.toUpperCase())))), React.createElement(\"div\", {\n    className: \"row\",\n    style: {\n      marginBottom: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, props.descricao)), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"textarea\", {\n    className: \"form-control\",\n    style: {\n      border: 0,\n      borderBottom: \"1px solid #ccc\"\n    },\n    placeholder: \"Observa\\xE7\\xE3o\",\n    onChange: function onChange(ev) {\n      alterarTextoTextArea(ev);\n    },\n    value: observacao,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, observacao)))), React.createElement(\"div\", {\n    className: \"col-sm-2 text-right\",\n    style: {\n      border: \"0px solid red\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, \"R$ \", props.precoUnitario.toFixed(2))), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, \"R$ \", valorTotal.toFixed(2))), \"QUANT: \", quantidade, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"btn-group\",\n    role: \"group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-info btn-lg\",\n    onClick: subtract,\n    disabled: quantidade < 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, \"-1\"), React.createElement(\"input\", {\n    type: \"number\",\n    onChange: function onChange(ev) {\n      return onChangeQuantidade(ev);\n    },\n    value: quantidade,\n    style: {\n      width: 40\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"btn btn-info btn-lg\",\n    onClick: add,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, \"+1\"))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  })), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }));\n}\n/* COMPONENT: TotalComponent */\n\n\nvar TotalComponent = function TotalComponent(props) {\n  var total = props.total.toFixed(2);\n\n  var confirmarPedido = function confirmarPedido() {\n    var pedidoId = 2;\n    var storageProducts = JSON.parse(localStorage.getItem(\"products\"));\n    var objIndex = storageProducts.findIndex(function (pedido) {\n      return pedido.productId === pedidoId;\n    }); //Update object's name property.\n\n    storageProducts[objIndex].quantidade = 2;\n    storageProducts[objIndex].observacao = \"Laila\"; //Log object to console again.\n\n    console.log(storageProducts);\n    console.log(storageProducts[objIndex]);\n    localStorage.setItem(\"products\", _JSON$stringify(storageProducts));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container\",\n    style: {\n      marginTop: \"30px\",\n      backgroundColor: \"#F6F6F6\",\n      padding: \"10px\",\n      position: \"fixed\",\n      bottom: 0,\n      left: 0,\n      right: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col text-center text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  }, \"TOTAL A PAGAR: \", React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }, \"R$ \", total)))), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: confirmarPedido,\n    className: \"btn btn-info btn-lg\",\n    style: {\n      border: \"0px solid green\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, \"Confirmar Pedido\"))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230\n    },\n    __self: this\n  })));\n};\n/* ProductList */\n\n\nvar ProductList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ProductList, _React$Component);\n\n  function ProductList(props) {\n    var _this;\n\n    _classCallCheck(this, ProductList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProductList).call(this, props));\n    _this.state = {\n      total: 0,\n      productList: \"\"\n    };\n    _this.calculateTotal = _this.calculateTotal.bind(_assertThisInitialized(_this));\n    _this.showProduct = _this.showProduct.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ProductList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        _this2.setState({\n          productList: ListaProdutos\n        });\n      }, 1000);\n    }\n  }, {\n    key: \"calculateTotal\",\n    value: function calculateTotal(precoUnitario) {\n      this.setState({\n        total: this.state.total + precoUnitario\n      });\n      console.log(this.state.total);\n    }\n  }, {\n    key: \"showProduct\",\n    value: function showProduct(descricao) {\n      console.log(descricao);\n      alert(descricao);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.state.productList) return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text-center\",\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"spinner-border spinner-border-sm\",\n        role: \"status\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }), \"Carregando...\"));\n      var component = this;\n      var products = this.state.productList.map(function (product, _key) {\n        return React.createElement(React.Fragment, {\n          key: _key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285\n          },\n          __self: this\n        }, React.createElement(Product, {\n          id: product.id,\n          nome: product.nome,\n          imagem: product.imagem,\n          precoUnitario: product.preco,\n          descricao: product.descricao,\n          handleTotal: component.calculateTotal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        }));\n      });\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        \"aria-label\": \"breadcrumb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, React.createElement(\"ol\", {\n        className: \"breadcrumb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"breadcrumb-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, \"In\\xEDcio\")), React.createElement(\"li\", {\n        className: \"breadcrumb-item active\",\n        \"aria-current\": \"page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }, \"Lista de Produtos\"))), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, \"Lista\")), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, products, React.createElement(TotalComponent, {\n        total: this.state.total,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return ProductList;\n}(React.Component);\n\nexport { ProductList as default };","map":null,"metadata":{},"sourceType":"module"}