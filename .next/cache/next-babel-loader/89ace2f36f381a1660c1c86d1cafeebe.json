{"ast":null,"code":"import _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\node\\\\delivery\\\\components\\\\Produtos\\\\index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { makeStyles } from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\nimport AddShoppingCartIcon from \"@material-ui/icons/AddShoppingCart\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport RemoveShoppingCartIcon from \"@material-ui/icons/RemoveShoppingCart\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\"; //values: { xs: 0, sm: 600, md: 960, lg: 1280, xl: 1920 },\n\nvar useStyles = makeStyles(function (theme) {\n  var _image, _ref;\n\n  return _ref = {\n    root: {\n      border: \"0px solid #ccc\",\n      marginBottom: 4,\n      boxShadow: theme.shadows[3],\n      backgroundColor: \"rgba(245,245,245,0.8)\"\n    },\n    valorUnitario: _defineProperty({}, theme.breakpoints.up(\"xs\"), {\n      fontWeight: \"bold\"\n    }),\n    image: (_image = {\n      width: \"100%\",\n      height: 118\n    }, _defineProperty(_image, theme.breakpoints.up(\"xs\"), {}), _defineProperty(_image, theme.breakpoints.up(\"sm\"), {\n      border: \"0px solid red\"\n    }), _defineProperty(_image, theme.breakpoints.up(\"md\"), {}), _defineProperty(_image, theme.breakpoints.up(\"lg\"), {}), _image),\n    img: {\n      width: \"90%\",\n      height: \"90%\"\n    },\n    quantidade: {\n      textAlign: \"right\",\n      width: 30,\n      paddingTop: 5,\n      paddingBottom: 5,\n      display: \"inline\",\n      border: \"0\",\n      borderBottom: \"0px solid #ccc\"\n    },\n    cardAvatar: {\n      border: \"0px solid red\"\n    },\n    cardContent: {\n      border: \"0px solid lime\"\n    },\n    cardActions: {\n      border: \"0px solid blue\"\n    }\n  }, _defineProperty(_ref, \"valorUnitario\", {\n    border: \"0px solid red\",\n    paddingRight: 12\n  }), _defineProperty(_ref, \"subtotal\", {\n    border: \"0px solid red\",\n    paddingRight: 12,\n    fontSize: \"12px\"\n  }), _ref;\n});\n/**\r\n * Component: Produtos\r\n */\n\nexport default function Produtos(props) {\n  var classes = useStyles();\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      quantidade = _useState2[0],\n      setQuantidade = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      valorTotal = _useState4[0],\n      setValorTotal = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      observacao = _useState6[0],\n      setObservacao = _useState6[1];\n\n  function addProduct() {\n    var products = [];\n\n    if (localStorage.getItem(\"products\")) {\n      products = JSON.parse(localStorage.getItem(\"products\"));\n    } //Desestruturação Javascript\n\n\n    var id = props.id,\n        nome = props.nome,\n        imagem = props.imagem,\n        precoUnitario = props.precoUnitario,\n        descricao = props.descricao; //Pega o index\n\n    var objIndex = products.findIndex(function (pedido) {\n      return pedido.productId === id;\n    }); //Caso não exista\n\n    if (objIndex === -1) {\n      products.push({\n        productId: id,\n        nome: nome,\n        imagem: imagem,\n        quantidade: quantidade + 1,\n        observacao: observacao,\n        preco: precoUnitario,\n        descricao: descricao\n      });\n      localStorage.setItem(\"products\", _JSON$stringify(products));\n    } else {\n      products[objIndex].productId = id;\n      products[objIndex].quantidade = quantidade + 1;\n      products[objIndex].observacao = observacao;\n      products[objIndex].nome = nome;\n      products[objIndex].imagem = imagem;\n      products[objIndex].preco = precoUnitario;\n      products[objIndex].descricao = descricao;\n      localStorage.setItem(\"products\", _JSON$stringify(products));\n    }\n  }\n\n  function add() {\n    var quant = _parseInt(quantidade) + 1;\n    setQuantidade(quant);\n    addProduct();\n    setValorTotal((props.precoUnitario * quant).toFixed(2));\n  }\n\n  function subtract() {\n    var quant = _parseInt(quantidade) - 1;\n    setQuantidade(quant);\n    addProduct();\n    setValorTotal(props.precoUnitario * quant);\n  }\n\n  function onChangeQuantidade(ev) {\n    var quant = _parseInt(ev.target.value);\n\n    setQuantidade(quant);\n    addProduct();\n    setValorTotal((props.precoUnitario * _parseInt(quant)).toFixed(2));\n  }\n\n  function alterarTextoTextArea(ev) {\n    setObservacao(ev.target.value);\n  }\n\n  useEffect(function () {\n    if (quantidade <= 0 || isNaN(_parseInt(quantidade))) {\n      setValorTotal(0);\n      setQuantidade(0);\n    } //props.callbackParent(quantidade);\n\n  }, [quantidade]);\n  return React.createElement(Grid, {\n    container: true,\n    item: true,\n    direction: \"row\",\n    alignItems: \"stretch\",\n    alignContent: \"flex-start\",\n    xs: 12,\n    sm: 12,\n    md: 12,\n    lg: 12,\n    className: classes.root,\n    id: props.id,\n    title: \"Clique para entrar em \" + props.nome,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    xs: 3,\n    sm: 3,\n    md: 3,\n    lg: 2,\n    item: true,\n    className: classes.cardAvatar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(ButtonBase, {\n    className: classes.image,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: classes.img,\n    alt: \"imagem\",\n    src: props.imagem,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  })))), React.createElement(Grid, {\n    xs: 5,\n    sm: 5,\n    md: 6,\n    lg: 7,\n    item: true,\n    className: classes.cardContent,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, props.nome)), React.createElement(\"sub\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, props.medida)), React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, props.descricao)), observacao.length === 0 && React.createElement(React.Fragment, null, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  })), React.createElement(Grid, {\n    container: true,\n    wrap: \"nowrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    htmlFor: \"my-input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, \"Observa\\xE7\\xE3o:\"), React.createElement(Input, {\n    onChange: function onChange(ev) {\n      alterarTextoTextArea(ev);\n    },\n    value: observacao,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  })))), React.createElement(Grid, {\n    xs: 4,\n    sm: 4,\n    md: 3,\n    lg: 3,\n    item: true,\n    container: true,\n    alignItems: \"baseline\",\n    justify: \"flex-end\",\n    className: classes.cardActions,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    className: classes.valorUnitario,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  }, \"Pre\\xE7o: R$\", \" \", props.precoUnitario != undefined ? props.precoUnitario.toFixed(2) : null))), React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    onClick: subtract,\n    disabled: quantidade < 1,\n    color: \"primary\",\n    \"aria-label\": \"add to shopping cart\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }, React.createElement(RemoveShoppingCartIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229\n    },\n    __self: this\n  })), React.createElement(\"input\", {\n    type: \"number\",\n    onChange: function onChange(ev) {\n      return onChangeQuantidade(ev);\n    },\n    value: quantidade,\n    className: classes.quantidade,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231\n    },\n    __self: this\n  }), React.createElement(IconButton, {\n    color: \"primary\",\n    \"aria-label\": \"add to shopping cart\",\n    onClick: add,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }, React.createElement(AddShoppingCartIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247\n    },\n    __self: this\n  }), React.createElement(Typography, {\n    className: classes.subtotal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248\n    },\n    __self: this\n  }, quantidade > 0 && React.createElement(React.Fragment, null, \" Sub Total: R$ \", valorTotal)))));\n}","map":{"version":3,"sources":["D:\\node\\delivery\\components\\Produtos\\index.js"],"names":["React","useState","useEffect","Grid","makeStyles","Typography","ButtonBase","AddShoppingCartIcon","IconButton","RemoveShoppingCartIcon","FormControl","Input","InputLabel","useStyles","theme","root","border","marginBottom","boxShadow","shadows","backgroundColor","valorUnitario","breakpoints","up","fontWeight","image","width","height","img","quantidade","textAlign","paddingTop","paddingBottom","display","borderBottom","cardAvatar","cardContent","cardActions","paddingRight","fontSize","Produtos","props","classes","setQuantidade","valorTotal","setValorTotal","observacao","setObservacao","addProduct","products","localStorage","getItem","JSON","parse","id","nome","imagem","precoUnitario","descricao","objIndex","findIndex","pedido","productId","push","preco","setItem","add","quant","toFixed","subtract","onChangeQuantidade","ev","target","value","alterarTextoTextArea","isNaN","medida","length","undefined","subtotal"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\r\nimport AddShoppingCartIcon from \"@material-ui/icons/AddShoppingCart\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport RemoveShoppingCartIcon from \"@material-ui/icons/RemoveShoppingCart\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\n\r\n//values: { xs: 0, sm: 600, md: 960, lg: 1280, xl: 1920 },\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    border: \"0px solid #ccc\",\r\n    marginBottom: 4,\r\n    boxShadow: theme.shadows[3],\r\n    backgroundColor: \"rgba(245,245,245,0.8)\",\r\n  },\r\n  valorUnitario: {\r\n    [theme.breakpoints.up(\"xs\")]: {\r\n      fontWeight: \"bold\"\r\n    }\r\n  },\r\n  image: {\r\n    width: \"100%\",\r\n    height: 118,\r\n    [theme.breakpoints.up(\"xs\")]: {},\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      border: \"0px solid red\"\r\n    },\r\n    [theme.breakpoints.up(\"md\")]: {},\r\n    [theme.breakpoints.up(\"lg\")]: {}\r\n  },\r\n  img: {\r\n    width: \"90%\",\r\n    height: \"90%\"\r\n  },\r\n  quantidade: {\r\n    textAlign: \"right\",\r\n    width: 30,\r\n    paddingTop: 5,\r\n    paddingBottom: 5,\r\n    display: \"inline\",\r\n    border: \"0\",\r\n    borderBottom: \"0px solid #ccc\"\r\n  },\r\n  cardAvatar: {\r\n    border: \"0px solid red\"\r\n  },\r\n  cardContent: {\r\n    border: \"0px solid lime\"\r\n  },\r\n  cardActions: {\r\n    border: \"0px solid blue\"\r\n  },\r\n  valorUnitario: {\r\n    border: \"0px solid red\",\r\n    paddingRight: 12\r\n  },\r\n  subtotal: {\r\n    border: \"0px solid red\",\r\n    paddingRight: 12,\r\n    fontSize: \"12px\"\r\n  }\r\n}));\r\n\r\n/**\r\n * Component: Produtos\r\n */\r\nexport default function Produtos(props) {\r\n  const classes = useStyles();\r\n\r\n  const [quantidade, setQuantidade] = useState(0);\r\n  const [valorTotal, setValorTotal] = useState(0);\r\n  const [observacao, setObservacao] = useState(\"\");\r\n\r\n  function addProduct() {\r\n    let products = [];\r\n\r\n    if (localStorage.getItem(\"products\")) {\r\n      products = JSON.parse(localStorage.getItem(\"products\"));\r\n    }\r\n\r\n    //Desestruturação Javascript\r\n    const { id, nome, imagem, precoUnitario, descricao } = props;\r\n\r\n    //Pega o index\r\n    let objIndex = products.findIndex(pedido => pedido.productId === id);\r\n\r\n    //Caso não exista\r\n    if (objIndex === -1) {\r\n      products.push({\r\n        productId: id,\r\n        nome: nome,\r\n        imagem: imagem,\r\n        quantidade: quantidade + 1,\r\n        observacao: observacao,\r\n        preco: precoUnitario,\r\n        descricao: descricao\r\n      });\r\n\r\n      localStorage.setItem(\"products\", JSON.stringify(products));\r\n    } else {\r\n      products[objIndex].productId = id;\r\n      products[objIndex].quantidade = quantidade + 1;\r\n      products[objIndex].observacao = observacao;\r\n      products[objIndex].nome = nome;\r\n      products[objIndex].imagem = imagem;\r\n      products[objIndex].preco = precoUnitario;\r\n      products[objIndex].descricao = descricao;\r\n      localStorage.setItem(\"products\", JSON.stringify(products));\r\n    }\r\n  }\r\n\r\n  function add() {\r\n    let quant = parseInt(quantidade) + 1;\r\n    setQuantidade(quant);\r\n    addProduct();\r\n    setValorTotal((props.precoUnitario * quant).toFixed(2));\r\n  }\r\n\r\n  function subtract() {\r\n    let quant = parseInt(quantidade) - 1;\r\n    setQuantidade(quant);\r\n    addProduct();\r\n    setValorTotal(props.precoUnitario * quant);\r\n  }\r\n\r\n  function onChangeQuantidade(ev) {\r\n    let quant = parseInt(ev.target.value);\r\n    setQuantidade(quant);\r\n    addProduct();\r\n    setValorTotal((props.precoUnitario * parseInt(quant)).toFixed(2));\r\n  }\r\n\r\n  function alterarTextoTextArea(ev) {\r\n    setObservacao(ev.target.value);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (quantidade <= 0 || isNaN(parseInt(quantidade))) {\r\n      setValorTotal(0);\r\n      setQuantidade(0);\r\n    }\r\n    //props.callbackParent(quantidade);\r\n  }, [quantidade]);\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      item\r\n      direction=\"row\"\r\n      alignItems=\"stretch\"\r\n      alignContent=\"flex-start\"\r\n      xs={12}\r\n      sm={12}\r\n      md={12}\r\n      lg={12}\r\n      className={classes.root}\r\n      id={props.id}\r\n      title={\"Clique para entrar em \" + props.nome}\r\n    >\r\n      <Grid xs={3} sm={3} md={3} lg={2} item className={classes.cardAvatar}>\r\n        <Grid item>\r\n          <ButtonBase className={classes.image}>\r\n            <img className={classes.img} alt=\"imagem\" src={props.imagem} />\r\n          </ButtonBase>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid xs={5} sm={5} md={6} lg={7} item className={classes.cardContent}>\r\n        <Grid item>\r\n          <Typography>\r\n            <b>{props.nome}</b>\r\n          </Typography>\r\n          <sub>\r\n            <strong>{props.medida}</strong>\r\n          </sub>\r\n          <Typography>{props.descricao}</Typography>\r\n        </Grid>\r\n        {observacao.length === 0 && (\r\n          <>\r\n            <br />\r\n            <br />\r\n            <br />\r\n          </>\r\n        )}\r\n        <Grid container wrap=\"nowrap\">\r\n          <FormControl fullWidth>\r\n            <InputLabel htmlFor=\"my-input\">Observação:</InputLabel>\r\n            <Input\r\n              onChange={ev => {\r\n                alterarTextoTextArea(ev);\r\n              }}\r\n              value={observacao}\r\n            />\r\n          </FormControl>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid\r\n        xs={4}\r\n        sm={4}\r\n        md={3}\r\n        lg={3}\r\n        item\r\n        container\r\n        alignItems=\"baseline\"\r\n        justify=\"flex-end\"\r\n        className={classes.cardActions}\r\n      >\r\n        <Grid item>\r\n          <Typography className={classes.valorUnitario}>\r\n            <b>\r\n              Preço: R${\" \"}\r\n              {props.precoUnitario != undefined\r\n                ? props.precoUnitario.toFixed(2)\r\n                : null}\r\n            </b>\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <IconButton\r\n            onClick={subtract}\r\n            disabled={quantidade < 1}\r\n            color=\"primary\"\r\n            aria-label=\"add to shopping cart\"\r\n          >\r\n            <RemoveShoppingCartIcon />\r\n          </IconButton>\r\n          <input\r\n            type=\"number\"\r\n            onChange={ev => onChangeQuantidade(ev)}\r\n            value={quantidade}\r\n            className={classes.quantidade}\r\n          />\r\n          <IconButton\r\n            color=\"primary\"\r\n            aria-label=\"add to shopping cart\"\r\n            onClick={add}\r\n          >\r\n            <AddShoppingCartIcon />\r\n          </IconButton>\r\n        </Grid>\r\n        <br />\r\n        <Grid item>\r\n          <br />\r\n          <Typography className={classes.subtotal}>\r\n           {quantidade > 0 && (<> Sub Total: R$ {valorTotal}</>)}\r\n          </Typography>\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}