{"version":3,"file":"static/webpack/static\\development\\pages\\[id].js.b8f7fb7d357f9299e329.hot-update.js","sources":["webpack:///./components/Produtos/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\r\nimport AddShoppingCartIcon from \"@material-ui/icons/AddShoppingCart\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport RemoveShoppingCartIcon from \"@material-ui/icons/RemoveShoppingCart\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\n\r\n//values: { xs: 0, sm: 600, md: 960, lg: 1280, xl: 1920 },\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    border: \"0px solid #ccc\",\r\n    marginBottom: 4,\r\n    boxShadow: theme.shadows[3],\r\n    backgroundColor: \"rgba(245,245,245,0.8)\",\r\n  },\r\n  imageBox: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    [theme.breakpoints.up(\"xs\")]: {\r\n      border: \"1px solid green\"\r\n    },\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      border: \"1px solid red\"\r\n    },\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      border: \"1px solid lime\"\r\n    },\r\n    [theme.breakpoints.up(\"lg\")]: {\r\n      border: \"1px solid gold\"\r\n    }\r\n  },\r\n  imageContent: {\r\n    width: \"90%\",\r\n    height: \"90%\"\r\n  },\r\n  quantidade: {\r\n    textAlign: \"right\",\r\n    width: 30,\r\n    paddingTop: 5,\r\n    paddingBottom: 5,\r\n    display: \"inline\",\r\n    border: \"0\",\r\n    borderBottom: \"0px solid #ccc\"\r\n  },\r\n  cardAvatar: {\r\n    border: \"0px solid red\"\r\n  },\r\n  cardContent: {\r\n    border: \"0px solid lime\"\r\n  },\r\n  cardActions: {\r\n    border: \"0px solid blue\"\r\n  },\r\n  valorUnitario: {\r\n    border: \"0px solid red\",\r\n    paddingRight: 12,\r\n    [theme.breakpoints.up(\"xs\")]: {\r\n      fontWeight: \"bold\"\r\n    }\r\n  },\r\n  subtotal: {\r\n    border: \"0px solid red\",\r\n    paddingRight: 12,\r\n    fontSize: \"12px\"\r\n  }\r\n}));\r\n\r\n/**\r\n * Component: Produtos\r\n */\r\nexport default function Produtos(props) {\r\n  const classes = useStyles();\r\n\r\n  const [quantidade, setQuantidade] = useState(0);\r\n  const [valorTotal, setValorTotal] = useState(0);\r\n  const [observacao, setObservacao] = useState(\"\");\r\n\r\n  function addProduct() {\r\n    let products = [];\r\n\r\n    if (localStorage.getItem(\"products\")) {\r\n      products = JSON.parse(localStorage.getItem(\"products\"));\r\n    }\r\n\r\n    //Desestruturação Javascript\r\n    const { id, nome, imagem, precoUnitario, descricao } = props;\r\n\r\n    //Pega o index\r\n    let objIndex = products.findIndex(pedido => pedido.productId === id);\r\n\r\n    //Caso não exista\r\n    if (objIndex === -1) {\r\n      products.push({\r\n        productId: id,\r\n        nome: nome,\r\n        imagem: imagem,\r\n        quantidade: quantidade + 1,\r\n        observacao: observacao,\r\n        preco: precoUnitario,\r\n        descricao: descricao\r\n      });\r\n\r\n      localStorage.setItem(\"products\", JSON.stringify(products));\r\n    } else {\r\n      products[objIndex].productId = id;\r\n      products[objIndex].quantidade = quantidade + 1;\r\n      products[objIndex].observacao = observacao;\r\n      products[objIndex].nome = nome;\r\n      products[objIndex].imagem = imagem;\r\n      products[objIndex].preco = precoUnitario;\r\n      products[objIndex].descricao = descricao;\r\n      localStorage.setItem(\"products\", JSON.stringify(products));\r\n    }\r\n  }\r\n\r\n  function add() {\r\n    let quant = parseInt(quantidade) + 1;\r\n    setQuantidade(quant);\r\n    addProduct();\r\n    setValorTotal((props.precoUnitario * quant).toFixed(2));\r\n  }\r\n\r\n  function subtract() {\r\n    let quant = parseInt(quantidade) - 1;\r\n    setQuantidade(quant);\r\n    addProduct();\r\n    setValorTotal(props.precoUnitario * quant);\r\n  }\r\n\r\n  function onChangeQuantidade(ev) {\r\n    let quant = parseInt(ev.target.value);\r\n    setQuantidade(quant);\r\n    addProduct();\r\n    setValorTotal((props.precoUnitario * parseInt(quant)).toFixed(2));\r\n  }\r\n\r\n  function alterarTextoTextArea(ev) {\r\n    setObservacao(ev.target.value);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (quantidade <= 0 || isNaN(parseInt(quantidade))) {\r\n      setValorTotal(0);\r\n      setQuantidade(0);\r\n    }\r\n    //props.callbackParent(quantidade);\r\n  }, [quantidade]);\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      item\r\n      direction=\"row\"\r\n      alignItems=\"stretch\"\r\n      alignContent=\"flex-start\"\r\n      xs={12}\r\n      sm={12}\r\n      md={12}\r\n      lg={12}\r\n      className={classes.root}\r\n      id={props.id}\r\n      title={\"Clique para entrar em \" + props.nome}\r\n    >\r\n      <Grid xs={3} sm={3} md={3} lg={2} item className={classes.cardAvatar}>\r\n        <Grid item>\r\n          <ButtonBase className={classes.imageBox}>\r\n            <img className={classes.imageContent} alt=\"imagem\" src={props.imagem} />\r\n          </ButtonBase>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid xs={5} sm={5} md={6} lg={7} item className={classes.cardContent}>\r\n        <Grid item>\r\n          <Typography>\r\n            <b>{props.nome}</b>\r\n          </Typography>\r\n          <sub>\r\n            <strong>{props.medida}</strong>\r\n          </sub>\r\n          <Typography>{props.descricao}</Typography>\r\n        </Grid>\r\n        {observacao.length === 0 && (\r\n          <>\r\n            <br />\r\n            <br />\r\n            <br />\r\n          </>\r\n        )}\r\n        <Grid container wrap=\"nowrap\">\r\n          <FormControl fullWidth>\r\n            <InputLabel htmlFor=\"my-input\">Observação:</InputLabel>\r\n            <Input\r\n              onChange={ev => {\r\n                alterarTextoTextArea(ev);\r\n              }}\r\n              value={observacao}\r\n            />\r\n          </FormControl>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid\r\n        xs={4}\r\n        sm={4}\r\n        md={3}\r\n        lg={3}\r\n        item\r\n        container\r\n        alignItems=\"baseline\"\r\n        justify=\"flex-end\"\r\n        className={classes.cardActions}\r\n      >\r\n        <Grid item>\r\n          <Typography className={classes.valorUnitario}>\r\n            <b>\r\n              Preço: R${\" \"}\r\n              {props.precoUnitario != undefined\r\n                ? props.precoUnitario.toFixed(2)\r\n                : null}\r\n            </b>\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <IconButton\r\n            onClick={subtract}\r\n            disabled={quantidade < 1}\r\n            color=\"primary\"\r\n            aria-label=\"add to shopping cart\"\r\n          >\r\n            <RemoveShoppingCartIcon />\r\n          </IconButton>\r\n          <input\r\n            type=\"number\"\r\n            onChange={ev => onChangeQuantidade(ev)}\r\n            value={quantidade}\r\n            className={classes.quantidade}\r\n          />\r\n          <IconButton\r\n            color=\"primary\"\r\n            aria-label=\"add to shopping cart\"\r\n            onClick={add}\r\n          >\r\n            <AddShoppingCartIcon />\r\n          </IconButton>\r\n        </Grid>\r\n        <br />\r\n        <Grid item>\r\n          <br />\r\n          <Typography className={classes.subtotal}>\r\n           {quantidade > 0 && (<> Sub Total: R$ {valorTotal}</>)}\r\n          </Typography>\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AAFA;AAIA;AADA;AAIA;AADA;AAIA;AADA;AAIA;AADA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AADA;AAIA;AACA;AACA;AACA;AAHA;AApDA;AAAA;AA2DA;;;;AAGA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AACA;AAUA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;A","sourceRoot":""}