{"version":3,"file":"static/webpack/static\\development\\pages\\[id].js.539c4483d6761353b745.hot-update.js","sources":["webpack:///./components/Produtos.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tinput: {\r\n\t\tmarginLeft: 8,\r\n\t\tflex: 1,\r\n\t\tborderRadius: 15,\r\n\t\tpadding: 15,\r\n\t},\r\n\tcontent: {\r\n\t\tflex: '1 0 auto',\r\n\t},\r\n\tlistaProdutos: {\r\n\t\tboxShadow:\r\n\t\t\t'0px 1px 3px 0px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 2px 1px -1px rgba(0,0,0,0.12);',\r\n\t\tdisplay: 'flex',\r\n\t\tflexWrap: 'nowrap',\r\n\t\tborder: '0px solid red',\r\n\t\tflexDirection: 'row',\r\n\t\theight: 160,\r\n\t\tmarginTop: 10,\r\n\t\tbackgroundColor: 'rgba(245,245,245,0.8)',\r\n\t},\r\n\titemAvatar: {\r\n\t\twidth: '20%',\r\n\t\tdisplay: 'flex',\r\n\t\tflexWrap: 'nowrap',\r\n\t\tflexDirection: 'row',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tborder: '0px solid lime',\r\n\t\tpadding: 4,\r\n\t},\r\n\titemAvatarImg: {\r\n\t\twidth: '100%',\r\n\t\theight: '100%',\r\n\t\tdisplay: 'flex',\r\n\t\tflexWrap: 'nowrap',\r\n\t\tflexDirection: 'row',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tborder: '0px solid lime',\r\n\t},\r\n\titemContent: {\r\n\t\twidth: '60%',\r\n\t\tdisplay: 'flex',\r\n\t\tflexWrap: 'nowrap',\r\n\t\tflexDirection: 'column',\r\n\t\tjustifyContent: 'flex-start',\r\n\t\talignContent: 'flex-start',\r\n\t\talignItems: 'flex-start',\r\n\t\tborder: '0px solid lime',\r\n\t\tpadding: 10,\r\n\t},\r\n\titemAcoes: {\r\n\t\twidth: '20%',\r\n\t\tdisplay: 'flex',\r\n\t\tflexWrap: 'nowrap',\r\n\t\tflexDirection: 'column',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tborder: '0px solid lime',\r\n\t\tpadding: 10,\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\tinputQuantidade: {\r\n\t\tborder: 0,\r\n\t\toutline: 0,\r\n\t\ttextAlign: 'center',\r\n\t\twidth: 40,\r\n\t},\r\n}));\r\n\r\n/**\r\n * Component: Produtos\r\n */\r\nexport default function Produtos(props) {\r\n\t\r\n\tconst [quantidade, setQuantidade] = useState(0);\r\n\tconst [valorTotal, setValorTotal] = useState(0);\r\n\tconst [observacao, setObservacao] = useState('');\r\n\r\n\tconst matches = useMediaQuery('(min-width:600px)');\r\n\r\n\tfunction addProduct() {\r\n\t\tlet products = [];\r\n\r\n\t\tif (localStorage.getItem('products')) {\r\n\t\t\tproducts = JSON.parse(localStorage.getItem('products'));\r\n\t\t}\r\n\r\n\t\t//Desestruturação Javascript\r\n\t\tconst { id, nome, imagem, precoUnitario, descricao } = props;\r\n\r\n\t\t//Pega o index\r\n\t\tlet objIndex = products.findIndex(pedido => pedido.productId === id);\r\n\r\n\t\t//Caso não exista\r\n\t\tif (objIndex === -1) {\r\n\t\t\tproducts.push({\r\n\t\t\t\tproductId: id,\r\n\t\t\t\tnome: nome,\r\n\t\t\t\timagem: imagem,\r\n\t\t\t\tquantidade: quantidade + 1,\r\n\t\t\t\tobservacao: observacao,\r\n\t\t\t\tpreco: precoUnitario,\r\n\t\t\t\tdescricao: descricao,\r\n\t\t\t});\r\n\r\n\t\t\tlocalStorage.setItem('products', JSON.stringify(products));\r\n\t\t} else {\r\n\t\t\tproducts[objIndex].productId = id;\r\n\t\t\tproducts[objIndex].quantidade = quantidade + 1;\r\n\t\t\tproducts[objIndex].observacao = observacao;\r\n\t\t\tproducts[objIndex].nome = nome;\r\n\t\t\tproducts[objIndex].imagem = imagem;\r\n\t\t\tproducts[objIndex].preco = precoUnitario;\r\n\t\t\tproducts[objIndex].descricao = descricao;\r\n\t\t\tlocalStorage.setItem('products', JSON.stringify(products));\r\n\t\t}\r\n\t}\r\n\r\n\tfunction add() {\r\n\t\tlet quant = parseInt(quantidade) + 1;\r\n\r\n\t\tsetQuantidade(quant);\r\n\r\n\t\taddProduct();\r\n\r\n\t\tsetValorTotal((props.precoUnitario * quant).toFixed(2));\r\n\t}\r\n\r\n\tfunction subtract() {\r\n\t\tlet quant = parseInt(quantidade) - 1;\r\n\r\n\t\tsetQuantidade(quant);\r\n\r\n\t\taddProduct();\r\n\r\n\t\tsetValorTotal(props.precoUnitario * quant);\r\n\t}\r\n\r\n\tfunction onChangeQuantidade(ev) {\r\n\t\tlet quant = parseInt(ev.target.value);\r\n\r\n\t\tsetQuantidade(quant);\r\n\r\n\t\taddProduct();\r\n\r\n\t\tsetValorTotal((props.precoUnitario * parseInt(quant)).toFixed(2));\r\n\t}\r\n\r\n\tfunction alterarTextoTextArea(ev) {\r\n\t\tsetObservacao(ev.target.value);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (quantidade <= 0 || isNaN(parseInt(quantidade))) {\r\n\t\t\tsetValorTotal(0);\r\n\t\t\tsetQuantidade(0);\r\n\t\t}\r\n\t}, [quantidade]);\r\n\t\r\n\tuseEffect(() => {\r\n    \t\tprops.callbackParent(quantidade);\r\n  \t},[quantidade])\r\n\r\n\tconst classes = useStyles();\r\n\treturn (\r\n\t\t<div className={classes.root} id={props.id}>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t<div className={classes.demo}>\r\n\t\t\t\t\t\t<div className={classes.listaProdutos} title={'Clique para entrar em ' + props.nome}>\r\n\t\t\t\t\t\t\t<div className={classes.itemAvatar}>\r\n\t\t\t\t\t\t\t\t{props.imagem ? (\r\n\t\t\t\t\t\t\t\t\t<img className={classes.itemAvatarImg} alt=\"\" src={props.imagem} />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div>b</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={classes.itemContent}>\r\n\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t<b>{props.nome}</b>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Grid container wrap=\"nowrap\" title={props.descricao}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs zeroMinWidth>\r\n\t\t\t\t\t\t\t\t\t\t<Typography noWrap>{props.descricao}</Typography>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<sub>\r\n\t\t\t\t\t\t\t\t\t<strong>Kg</strong>\r\n\t\t\t\t\t\t\t\t</sub>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{observacao.length === 0 && <br />}\r\n\t\t\t\t\t\t\t\t<Grid container wrap=\"nowrap\">\r\n\t\t\t\t\t\t\t\t\t<FormControl fullWidth>\r\n\t\t\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"my-input\">Observação:</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"my-input\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\talterarTextoTextArea(ev);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={observacao}\r\n\t\t\t\t\t\t\t\t\t\t\taria-describedby=\"my-helper-text\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={classes.itemAcoes}>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\tA partir de <br /> <b>R$ {props.precoUnitario.toFixed(2)}</b>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<small>Quantidade:</small>\r\n\t\t\t\t\t\t\t\t<ButtonGroup\r\n\t\t\t\t\t\t\t\t\tdisableFocusRipple={true}\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\taria-label=\"Split button\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Button onClick={subtract} disabled={quantidade < 1}>\r\n\t\t\t\t\t\t\t\t\t\t-\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev => onChangeQuantidade(ev)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={quantidade}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.inputQuantidade}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\t\t\t\t\tvalue=\"+\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={add}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tlabel={`SubTotal ${'\\n\\n'}R$ ${valorTotal}`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AADA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAWA;AACA;AACA;AACA;AACA;AAJA;AA/DA;AAAA;AAuEA;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AACA;AAUA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;A","sourceRoot":""}